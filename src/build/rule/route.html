<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>路由约定 - Nayo Admin 中文文档</title><meta name="description" content="当我们注册路由的时候，注册的路由数据有一定要求"><meta name="keywords" content="路由约定 - Nayo Admin 中文文档"><script src="/static/js/jquery-3.3.1.min.js"></script><script src="/static/js/vue.min.js"></script><link rel="stylesheet" href="/static/css/normalize.min.css"><link rel="stylesheet" href="/static/css/monaco.css"><link rel="stylesheet" href="/static/css/loading.css"><link rel="stylesheet" href="/static/css/editormd.min.css"><link rel="stylesheet" href="/static/css/style.css"><link rel="stylesheet" href="/static/css/mobile.css"><link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/static/css/highlight.default.min.css"><script src="/static/js/highlight.min.js"></script><script>window._CONST={ROOT_PATH:"/"},hljs.initHighlightingOnLoad()</script></head><body><div class="main"><div class="tea-menu"><div class="tea-menu-title"><i class="fa fa-home" aria-hidden="true"></i> <span>Nayo Admin 中文文档</span></div><div class="tea-menu-search-warp"><i class="fa fa-search"></i> <input type="text" placeholder="搜索文档" value height="100%"></div><ul class="tea-menu-list"><li><a href="/index.html" title="readme" class>readme</a></li><li><a href="/intro.html" title="简介" class>简介</a></li><li><a href="/quick_start.html" title="快速开始" class>快速开始</a></li><li><a title="约定" class="active">约定<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/rule/index.html" title="说明" class>说明</a></li><li><a href="/rule/page.html" title="页面约定" class>页面约定</a></li><li><a href="/rule/route.html" title="路由约定" class="active">路由约定</a></li><li><a href="/rule/state.html" title="状态管理约定">状态管理约定</a></li><li><a href="/rule/lang.html" title="多语言约定">多语言约定</a></li></ul></li><li><a href="/auth.html" title="权限控制">权限控制</a></li><li><a href="/mock.html" title="Mock数据模拟建议">Mock数据模拟建议</a></li></ul><div class="tea-version"><p>version: 1.0.0</p><p>Built with <a href="https://github.com/lisniuse/teadocs" target="_blank">Teadocs</a></p></div></div><div class="tea-content"><div class="tea-nav"><h3 class="top-title" style="font-weight:500;margin:0;font-size:16px"><i class="fa fa-navicon" aria-hidden="true"></i> <span>路由约定</span></h3></div><div class="tea-container"><article class="markdown-body"><h3 id="路由约定"><a href="#路由约定" class="header-anchor">#</a> <span>路由约定</span></h3><p>当我们注册路由的时候，注册的路由数据有一定要求</p><hr><p>nayo.routerRegister(options) ---> 注册路由，可以参照demo</p><pre class="prettyprint"><code>// options的结构
options = [
    {
        name: "login",
        path: "/login",
        independent: true,
        template: login
    },
    ...
]

// 选项是一个路由表，每一个项目是一个路由元
// 路由表是一个数组
// 路由元是一个对象
// 这个路由表注册后，会存放在Vuex的state中的__router_info__里，可以通过this.$store.state查看</code></pre><hr><p><strong>路由元属性</strong></p><table><tbody><tr><th style="width:130px;text-align:center">属性名</th><th style="width:100px;text-align:center">类型</th><th style="width:100px;text-align:center">必填</th><th style="width:598px;text-align:center">描述</th></tr><tr><td style="text-align:center">name</td><td style="text-align:center">String</td><td style="text-align:center">true</td><td style="text-align:center">路由元名称,是唯一的 可以通过this.$route.name访问</td></tr><tr><td style="text-align:center">path</td><td style="text-align:center">String</td><td style="text-align:center">true</td><td style="text-align:center">路由路径, 像"/index"这样的, 这个和vue-router中的path一样</td></tr><tr><td style="text-align:center">icon</td><td style="text-align:center">String</td><td style="text-align:center">false</td><td style="text-align:center">如果你想用图标，可以使用icon的名称，如果你使用iView的图标，需要在名称前面加上"ivu-icon-"</td></tr><tr><td style="text-align:center">template\templates</td><td style="text-align:center">Object</td><td style="text-align:center">false</td><td style="text-align:center">路由匹配到后的视图组件, 如果你自定义了layout, 你可能需要用到这个, 可以查看 https://router.vuejs.org/guide/essentials/named-views.html 获取如何使用templates的方法</td></tr><tr><td style="text-align:center">active</td><td style="text-align:center">Boolean</td><td style="text-align:center">false</td><td style="text-align:center">当你进入admin, 可以通过设置这个属性设置第一个你想看到的页面，如果你自定义了layout，你需要书写导航的逻辑</td></tr><tr><td style="text-align:center">independent</td><td style="text-align:center">Boolean</td><td style="text-align:center">false</td><td style="text-align:center">如果路由对应的视图组件需要独立于布局视图，你可以设置这个, 像demo中的"/login"一样, 这个判断是否是独立函数，存放于nayo-admin-core中的"src/entrance.vue"里</td></tr><tr><td style="text-align:center">children</td><td style="text-align:center">Array</td><td style="text-align:center">false</td><td style="text-align:center">这里是二级子路由，不支持更深层路由</td></tr></tbody></table><p><strong>注意：你需要准守一下规则</strong></p><ol><li>如果你设置independent为true，icon不会生效</li><li>如果你设置children，父级和下级的independent不会生效</li><li>如果你设置children，父级的template\templates不会生效</li><li>如果你设置children，父级的active不会生效， 但是active会在子路由元中生效</li></ol><hr><p><strong>子路由元属性</strong></p><table><tbody><tr><th style="width:130px;text-align:center">属性名</th><th style="width:100px;text-align:center">类型</th><th style="width:100px;text-align:center">必填</th><th style="width:598px;text-align:center">描述</th></tr><tr><td style="text-align:center">name</td><td style="text-align:center">String</td><td style="text-align:center">true</td><td style="text-align:center">同父路由元</td></tr><tr><td style="text-align:center">path</td><td style="text-align:center">String</td><td style="text-align:center">true</td><td style="text-align:center">如果父路由元的路径是"/index"，子路由元的路径是"/page"，最后的路由将会是"/index/page"，这里只是将两个路由进行拼接，和vue-router的路径一样</td></tr><tr><td style="text-align:center">icon</td><td style="text-align:center">String</td><td style="text-align:center">false</td><td style="text-align:center">同父路由元</td></tr><tr><td style="text-align:center">template\templates</td><td style="text-align:center">Object</td><td style="text-align:center">false</td><td style="text-align:center">同父路由元</td></tr><tr><td style="text-align:center">active</td><td style="text-align:center">Boolean</td><td style="text-align:center">false</td><td style="text-align:center">同父路由元</td></tr></tbody></table><hr><p><strong>路由导航守卫</strong></p><pre class="prettyprint"><code>// options的结构
options = [
    {
        name: "login",
        path: "/login",
        independent: true,
        template: login
    },
    ...
]
// 你可以通过设置before和after来拦截路由
// before表示，当进入路由的时候
// after表示，当离开路由的时候
// 这两个属性都是数组，会依次执行函数
// 需要注意的是，before中，next不会中断后边函数的执行
options.before = [
    (to, from, next) =&gt; {
        ...
    },
    (to, from, next) =&gt; {
        ...
    },
    ...
]

options.after = [
    (to, from) =&gt; {
        ...
    },
    (to, from) =&gt; {
        ...
    },
    ...
]</code></pre><hr><p><strong>Icon 说明</strong></p><p>如果你要自定义Icon，你可以在入口.vue文件中@import相关文件，然后在icon属性里协商对应的icon名称，注意，这里你自定义的icon是通过class进行表示的</p><p>这里有两个网站可以做自定义icon，有兴趣可以研究下</p><ol><li><a href="https://www.iconfont.cn">https://www.iconfont.cn</a></li><li><a href="https://icomoon.io/app/#/select">https://icomoon.io/app/#/select</a></li></ol></article></div></div><i class="fa fa-arrow-circle-up gotop" aria-hidden="true"></i><div id="menu-mask"></div></div><script src="/static/js/main.js"></script><script src="/static/js/mobile.js"></script>
<script src="/__webscoket__/socket.io.js"></script>
<script src="/__webscoket__/socket.client.js"></script>
</body></html>